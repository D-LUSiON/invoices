!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("ng.common"),require("ng.forms"),require("rxjs"),require("shared"),require("ng.core")):"function"==typeof define&&define.amd?define(["ng.common","ng.forms","rxjs","shared","ng.core"],e):"object"==typeof exports?exports.invoices=e(require("ng.common"),require("ng.forms"),require("rxjs"),require("shared"),require("ng.core")):t.invoices=e(t["ng.common"],t["ng.forms"],t.rxjs,t.shared,t["ng.core"])}("undefined"!=typeof self?self:this,(function(t,e,n,s,r){return function(t){var e={};function n(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(s,r,(function(e){return t[e]}).bind(null,r));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}({0:function(t,e,n){t.exports=n("zUnb")},"0S4P":function(e,n){e.exports=t},"3xDq":function(t,n){t.exports=e},Vgaj:function(t,e){t.exports=n},cfyg:function(t,e){t.exports=s},vOrQ:function(t,e){t.exports=r},zUnb:function(t,e,n){"use strict";n.r(e);class s{constructor(t,e,n){this._appState=t,this._appStateShared=e,this._invoicesService=n,this.invoices=[],this.invoicesSorted={},this.sort_by="issue_date",this.expanded_year_idx=-1,this.expanded_month_idx=-1,this.month_names=["January","February","March","April","May","June","July","August","September","October","November","December"],this._invoicesService.invoices$.subscribe(t=>{this.invoices=t,this.sortInvoicesView()})}ngOnInit(){this._appState.hello("Hello from invoices-list.component!"),this._appState.state$.subscribe(t=>console.log(`invoices-list.component: ${t}`)),this._invoicesService.getAll()}changeSorting(t){this.sort_by=t,this.sortInvoicesView()}getMonthName(t){return this.month_names[t]}sortInvoicesView(){const t={};this.invoices.forEach(e=>{const n=e[this.sort_by],s=n?n.getFullYear():"not sent",r=n?n.getMonth():"to be sent";t[s]||(t[s]={}),t[s][r]||(t[s][r]=[]),t[s][r]=[...t[s][r],e]});const e={};Object.keys(t).sort((t,e)=>+t<+e?1:+t>+e?-1:0).forEach(n=>{e[n]={},Object.keys(t[n]).sort((t,e)=>+t<+e?1:+t>+e?-1:0).forEach(s=>{e[n][s]=[...t[n][s]]})}),this.invoicesSorted=e}expandYear(t){this.expanded_year_idx=t}}class r{constructor(t){this._appState=t}ngOnInit(){}}class i{constructor(t){this._appState=t}ngOnInit(){}}class o{constructor(t){this.title="",this.measure="",this.quantity=0,this.price=0,this.total=0,t&&(t.hasOwnProperty("title")&&(this.title=t.title),t.hasOwnProperty("measure")&&(this.measure=t.measure),t.hasOwnProperty("quantity")&&(this.quantity=t.quantity),t.hasOwnProperty("price")&&(this.price=t.price),t.hasOwnProperty("total")&&(this.total=t.total))}}class l{constructor(t){this.status="new",this.selected=!1,this.number="",this.issue_place="София",this.type="",this.notes="",this.goods=[],t&&(t.hasOwnProperty("id")&&(this.id=t.id),t.hasOwnProperty("status")&&(this.status=t.status),t.hasOwnProperty("selected")&&(this.selected=t.selected),t.hasOwnProperty("number")&&(this.number=t.number),t.hasOwnProperty("issue_date")&&(this.issue_date=new Date(t.issue_date)),t.hasOwnProperty("sent_date")&&(this.sent_date=new Date(t.sent_date)),t.hasOwnProperty("issue_place")&&(this.issue_place=t.issue_place),t.hasOwnProperty("type")&&(this.type=t.type),t.hasOwnProperty("notes")&&(this.notes=t.notes),t.hasOwnProperty("goods")&&(this.goods=t.goods.map(t=>new o(t))),t.hasOwnProperty("total_sum")&&(this.total_sum=+t.total_sum),t.hasOwnProperty("creation_date")&&(this.creation_date=new Date(t.creation_date)),t.hasOwnProperty("update_date")&&(this.update_date=new Date(t.update_date)))}}let a=(()=>{class t{}return t.title="Invoices",t.description="Invoices module for listing, previewing and editing",t.icon="file-invoice",t.listComponent=s,t.previewComponent=r,t.editComponent=i,t})();var c=n("vOrQ"),u=n("0S4P"),h=n("cfyg"),p=n("Vgaj");let d=(()=>{class t{constructor(){this.state$=new p.BehaviorSubject(null),console.log("Hello from core app AppState service")}hello(t){console.log(t)}}return t.ngInjectableDef=c["ɵɵdefineInjectable"]({factory:function(){return new t},token:t,providedIn:"root"}),t})(),g=(()=>{class t{constructor(){this._invoices=[],this.invoices$=new p.BehaviorSubject(this._invoices),console.log("Hello from invoices service!")}getAll(){this._invoices=[new l({number:"100000012345",issue_date:"2019-11-23 00:00:00",sent_date:"2019-12-10 00:00:00",notes:"Fuel",total_sum:135.54}),new l({number:"600000045673",issue_date:"2019-11-17 00:00:00",sent_date:"2019-12-10 00:00:00",notes:"New laptop",total_sum:3545}),new l({number:"000000123456",issue_date:"2019-11-3 00:00:00",sent_date:"2019-12-10 00:00:00",notes:"Sex toys",total_sum:250}),new l({number:"230000132345",issue_date:"2019-11-12 00:00:00",sent_date:"2019-12-10 00:00:00",notes:"Nitro for the car",total_sum:2559})],this.invoices$.next(this._invoices)}}return t.ngInjectableDef=c["ɵɵdefineInjectable"]({factory:function(){return new t},token:t,providedIn:"root"}),t})();var _=c["ɵcrt"]({encapsulation:0,styles:[["app-invoices-list[_nghost-%COMP%], app-invoices-list   [_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto;max-height:calc(100% - 31px)}app-invoices-list[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-grey);padding:calc(var(--padding)/2);flex:0 0 auto}app-invoices-list[_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto}app-invoices-list[_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%], app-invoices-list[_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], app-invoices-list[_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}app-invoices-list[_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .year-heading[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .year-heading[_ngcontent-%COMP%]{background-color:var(--color-dark-grey);color:#fff}app-invoices-list[_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .month-heading[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .month-heading[_ngcontent-%COMP%]{background-color:var(--color-light-grey)}app-invoices-list[_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .tree-list-item[_ngcontent-%COMP%]   .tree-list-item-heading[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .tree-list-item[_ngcontent-%COMP%]   .tree-list-item-heading[_ngcontent-%COMP%]{padding:calc(var(--padding)/ 2);display:flex;justify-content:stretch}app-invoices-list[_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .tree-list-item[_ngcontent-%COMP%]   .tree-list-item-heading[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .tree-list-item[_ngcontent-%COMP%]   .tree-list-item-heading[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{flex:1 1 auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}app-invoices-list[_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .tree-list-item[_ngcontent-%COMP%]   .tree-list-item-heading[_ngcontent-%COMP%]   .item-side[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .tree-list-item[_ngcontent-%COMP%]   .tree-list-item-heading[_ngcontent-%COMP%]   .item-side[_ngcontent-%COMP%]{flex:0 0 auto}app-invoices-list[_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .tree-list-item[_ngcontent-%COMP%]   .tree-list-item-detail[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .tree-list-item[_ngcontent-%COMP%]   .tree-list-item-detail[_ngcontent-%COMP%]{height:0;overflow:hidden}app-invoices-list[_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .tree-list-item.expanded[_ngcontent-%COMP%] > .tree-list-item-detail[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .tree-list-item.expanded[_ngcontent-%COMP%] > .tree-list-item-detail[_ngcontent-%COMP%]{height:auto}app-invoices-list[_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .tree-list-item.hover-highlight[_ngcontent-%COMP%] > .tree-list-item-heading[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .tree-list-item.hover-highlight[_ngcontent-%COMP%] > .tree-list-item-heading[_ngcontent-%COMP%]{transition:all var(--transition)}app-invoices-list[_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .tree-list-item.hover-highlight[_ngcontent-%COMP%] > .tree-list-item-heading[_ngcontent-%COMP%]:hover, app-invoices-list   [_nghost-%COMP%]   .tree-list[_ngcontent-%COMP%]   .tree-list-item.hover-highlight[_ngcontent-%COMP%] > .tree-list-item-heading[_ngcontent-%COMP%]:hover{background-color:var(--color-dark-grey);color:#fff}app-invoices-list[_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto}app-invoices-list[_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], app-invoices-list[_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}app-invoices-list[_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%]   [class*=heading][_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%]   [class*=heading][_ngcontent-%COMP%]{padding:calc(var(--padding)/ 2)}app-invoices-list[_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .year-heading[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .year-heading[_ngcontent-%COMP%]{background-color:var(--color-dark-grey);color:#fff}app-invoices-list[_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{height:0;overflow:hidden}app-invoices-list[_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   .month-heading[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   .month-heading[_ngcontent-%COMP%]{display:flex;justify-content:stretch;background-color:var(--color-light-grey)}app-invoices-list[_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   .month-heading[_ngcontent-%COMP%]   .month-title[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   .month-heading[_ngcontent-%COMP%]   .month-title[_ngcontent-%COMP%]{flex:1 1 auto}app-invoices-list[_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   .month-heading[_ngcontent-%COMP%]   .month-inv-count[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   .month-heading[_ngcontent-%COMP%]   .month-inv-count[_ngcontent-%COMP%]{flex:0 0 auto}app-invoices-list[_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:var(--padding)}app-invoices-list[_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .invoice-heading[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .invoice-heading[_ngcontent-%COMP%]{display:flex;justify-content:stretch}app-invoices-list[_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .invoice-heading[_ngcontent-%COMP%]   .invoice-desc[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .invoice-heading[_ngcontent-%COMP%]   .invoice-desc[_ngcontent-%COMP%]{flex:1 1 auto}app-invoices-list[_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .invoice-heading[_ngcontent-%COMP%]   .invoice-price[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .invoice-heading[_ngcontent-%COMP%]   .invoice-price[_ngcontent-%COMP%]{flex:0 0 auto}app-invoices-list[_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li.expanded[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], app-invoices-list   [_nghost-%COMP%]   .tree-list-1[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li.expanded[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{height:auto}"]],data:{}});function m(t){return c["ɵvid"](0,[(t()(),c["ɵeld"](0,0,null,null,16,"li",[["class","tree-list-item hover-highlight"]],null,null,null,null,null)),(t()(),c["ɵeld"](1,0,null,null,5,"div",[["class","tree-list-item-heading invoice-heading"],["title","Invoice from: Some Issuer ltd.\nIssued on: 02.11.2019\nDetail: I bought a new laptop - Asus Scar ||| with RTX 2070"]],null,null,null,null,null)),(t()(),c["ɵeld"](2,0,null,null,1,"div",[["class","item-title"]],null,null,null,null,null)),(t()(),c["ɵted"](3,null,["",""])),(t()(),c["ɵeld"](4,0,null,null,2,"div",[["class","item-side"]],null,null,null,null,null)),(t()(),c["ɵted"](5,null,["",""])),c["ɵppd"](6,1),(t()(),c["ɵeld"](7,0,null,null,9,"div",[["class","tree-list-item-detail invoice-detail"]],null,null,null,null,null)),(t()(),c["ɵeld"](8,0,null,null,8,"ul",[],null,null,null,null,null)),(t()(),c["ɵeld"](9,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),c["ɵted"](10,null,["Number: ",""])),(t()(),c["ɵeld"](11,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),c["ɵted"](12,null,["Issue date: ",""])),c["ɵppd"](13,2),(t()(),c["ɵeld"](14,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),c["ɵted"](15,null,["Send to accountant on: ",""])),c["ɵppd"](16,2)],null,(function(t,e){var n=e.component;t(e,3,0,n.invoicesSorted[e.parent.parent.parent.parent.context.$implicit][e.parent.parent.context.$implicit][e.context.$implicit].notes);var s=c["ɵunv"](e,5,0,t(e,6,0,c["ɵnov"](e.parent.parent.parent.parent.parent,2),n.invoicesSorted[e.parent.parent.parent.parent.context.$implicit][e.parent.parent.context.$implicit][e.context.$implicit].total_sum));t(e,5,0,s),t(e,10,0,n.invoicesSorted[e.parent.parent.parent.parent.context.$implicit][e.parent.parent.context.$implicit][e.context.$implicit].number);var r=c["ɵunv"](e,12,0,t(e,13,0,c["ɵnov"](e.parent.parent.parent.parent.parent,3),n.invoicesSorted[e.parent.parent.parent.parent.context.$implicit][e.parent.parent.context.$implicit][e.context.$implicit].issue_date,"yyyy-MM-dd"));t(e,12,0,r);var i=c["ɵunv"](e,15,0,t(e,16,0,c["ɵnov"](e.parent.parent.parent.parent.parent,3),n.invoicesSorted[e.parent.parent.parent.parent.context.$implicit][e.parent.parent.context.$implicit][e.context.$implicit].sent_date,"yyyy-MM-dd"));t(e,15,0,i)}))}function f(t){return c["ɵvid"](0,[(t()(),c["ɵeld"](0,0,null,null,3,"ul",[["class","tree-list-item-detail"]],null,null,null,null,null)),(t()(),c["ɵand"](16777216,null,null,2,null,m)),c["ɵdid"](2,278528,null,0,u.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),c["ɵppd"](3,1)],(function(t,e){var n=e.component,s=c["ɵunv"](e,2,0,t(e,3,0,c["ɵnov"](e.parent.parent.parent.parent,1),n.invoicesSorted[e.parent.parent.parent.context.$implicit][e.parent.context.$implicit]));t(e,2,0,s)}),null)}function y(t){return c["ɵvid"](0,[(t()(),c["ɵeld"](0,0,null,null,10,"li",[["class","tree-list-item expanded"]],[[2,"expanded",null]],null,null,null,null)),(t()(),c["ɵeld"](1,0,null,null,6,"div",[["class","tree-list-item-heading month-heading"]],null,null,null,null,null)),(t()(),c["ɵeld"](2,0,null,null,1,"div",[["class","item-title"]],null,null,null,null,null)),(t()(),c["ɵted"](3,null,["",""])),(t()(),c["ɵeld"](4,0,null,null,3,"div",[["class","item-side"]],[[8,"title",0]],null,null,null,null)),c["ɵppd"](5,1),(t()(),c["ɵted"](6,null,["",""])),c["ɵppd"](7,1),(t()(),c["ɵand"](16777216,null,null,2,null,f)),c["ɵdid"](9,16384,null,0,u.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),c["ɵppd"](10,1)],(function(t,e){var n=e.component,s=c["ɵunv"](e,9,0,t(e,10,0,c["ɵnov"](e.parent.parent.parent,1),n.invoicesSorted[e.parent.parent.context.$implicit][e.context.$implicit])).length;t(e,9,0,s)}),(function(t,e){var n=e.component;t(e,0,0,e.context.index===n.expanded_month_idx||-1===n.expanded_month_idx&&e.context.first),t(e,3,0,n.getMonthName(e.context.$implicit-0));var s=c["ɵinlineInterpolate"](1,"Count of invoices for this month: ",c["ɵunv"](e,4,0,t(e,5,0,c["ɵnov"](e.parent.parent.parent,1),n.invoicesSorted[e.parent.parent.context.$implicit][e.context.$implicit])).length,"");t(e,4,0,s);var r=c["ɵunv"](e,6,0,t(e,7,0,c["ɵnov"](e.parent.parent.parent,1),n.invoicesSorted[e.parent.parent.context.$implicit][e.context.$implicit])).length;t(e,6,0,r)}))}function b(t){return c["ɵvid"](0,[(t()(),c["ɵeld"](0,0,null,null,4,"ul",[["class","tree-list-item-detail"]],null,null,null,null,null)),(t()(),c["ɵand"](16777216,null,null,3,null,y)),c["ɵdid"](2,278528,null,0,u.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),c["ɵppd"](3,1),c["ɵppd"](4,2)],(function(t,e){var n=e.component,s=c["ɵunv"](e,2,0,t(e,4,0,c["ɵnov"](e.parent.parent,0),c["ɵunv"](e,2,0,t(e,3,0,c["ɵnov"](e.parent.parent,1),n.invoicesSorted[e.parent.context.$implicit])),"desc"));t(e,2,0,s)}),null)}function O(t){return c["ɵvid"](0,[(t()(),c["ɵeld"](0,0,null,null,5,"li",[["class","tree-list-item"]],[[2,"expanded",null]],null,null,null,null)),(t()(),c["ɵeld"](1,0,null,null,1,"div",[["class","tree-list-item-heading year-heading"]],null,null,null,null,null)),(t()(),c["ɵted"](2,null,["",""])),(t()(),c["ɵand"](16777216,null,null,2,null,b)),c["ɵdid"](4,16384,null,0,u.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),c["ɵppd"](5,1)],(function(t,e){var n=e.component,s=c["ɵunv"](e,4,0,t(e,5,0,c["ɵnov"](e.parent,1),n.invoicesSorted[e.context.$implicit])).length;t(e,4,0,s)}),(function(t,e){var n=e.component;t(e,0,0,e.context.index===n.expanded_year_idx||-1===n.expanded_year_idx&&e.context.first),t(e,2,0,e.context.$implicit)}))}function v(t){return c["ɵvid"](0,[c["ɵpid"](0,h["ɵc"],[]),c["ɵpid"](0,h["ɵa"],[]),c["ɵpid"](0,h["ɵd"],[]),c["ɵpid"](0,u.DatePipe,[c.LOCALE_ID]),(t()(),c["ɵeld"](4,0,null,null,3,"div",[["class","toolbar"]],null,null,null,null,null)),(t()(),c["ɵeld"](5,0,null,null,0,"i",[["class","fas fa-filter"]],null,null,null,null,null)),(t()(),c["ɵeld"](6,0,null,null,0,"i",[["class","fas fa-exchange-alt"],["title","Sort by issue date"]],null,[[null,"click"]],(function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.changeSorting("issue_date")&&s),s}),null,null)),(t()(),c["ɵeld"](7,0,null,null,0,"i",[["class","fas fa-share-square"],["title","Sort by send to accountant"]],null,[[null,"click"]],(function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.changeSorting("sent_date")&&s),s}),null,null)),(t()(),c["ɵeld"](8,0,null,null,4,"ul",[["class","tree-list"]],null,null,null,null,null)),(t()(),c["ɵand"](16777216,null,null,3,null,O)),c["ɵdid"](10,278528,null,0,u.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),c["ɵppd"](11,1),c["ɵppd"](12,2)],(function(t,e){var n=e.component,s=c["ɵunv"](e,10,0,t(e,12,0,c["ɵnov"](e,0),c["ɵunv"](e,10,0,t(e,11,0,c["ɵnov"](e,1),n.invoicesSorted)),"desc"));t(e,10,0,s)}),null)}function P(t){return c["ɵvid"](0,[(t()(),c["ɵeld"](0,0,null,null,1,"app-invoices-list",[],null,null,null,v,_)),c["ɵdid"](1,114688,null,0,s,[d,h.AppStateSharedService,g],null,null)],(function(t,e){t(e,1,0)}),null)}var C=c["ɵccf"]("app-invoices-list",s,P,{},{},[]),M=c["ɵcrt"]({encapsulation:0,styles:[[""]],data:{}});function w(t){return c["ɵvid"](0,[(t()(),c["ɵeld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),c["ɵted"](-1,null,["invoice-preview works!"]))],null,null)}function x(t){return c["ɵvid"](0,[(t()(),c["ɵeld"](0,0,null,null,1,"app-invoice-preview",[],null,null,null,w,M)),c["ɵdid"](1,114688,null,0,r,[d],null,null)],(function(t,e){t(e,1,0)}),null)}var S=c["ɵccf"]("app-invoice-preview",r,x,{},{},[]),E=c["ɵcrt"]({encapsulation:0,styles:[[""]],data:{}});function T(t){return c["ɵvid"](0,[(t()(),c["ɵeld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),c["ɵted"](-1,null,["invoice-edit works!"]))],null,null)}function k(t){return c["ɵvid"](0,[(t()(),c["ɵeld"](0,0,null,null,1,"app-invoice-edit",[],null,null,null,T,E)),c["ɵdid"](1,114688,null,0,i,[d],null,null)],(function(t,e){t(e,1,0)}),null)}var I=c["ɵccf"]("app-invoice-edit",i,k,{},{},[]);function j(t){return"function"==typeof t}let N=!1;const A={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else N&&console.log("RxJS: Back to a better error behavior. Thank you. <3");N=t},get useDeprecatedSynchronousErrorHandling(){return N}};function R(t){setTimeout(()=>{throw t})}const F={closed:!0,next(t){},error(t){if(A.useDeprecatedSynchronousErrorHandling)throw t;R(t)},complete(){}},D=Array.isArray||(t=>t&&"number"==typeof t.length);function $(t){return null!==t&&"object"==typeof t}function H(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}H.prototype=Object.create(Error.prototype);const z=H;let U=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:s,_unsubscribe:r,_subscriptions:i}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let o=-1,l=s?s.length:0;for(;n;)n.remove(this),n=++o<l&&s[o]||null;if(j(r))try{r.call(this)}catch(a){e=!0,t=a instanceof z?q(a.errors):[a]}if(D(i))for(o=-1,l=i.length;++o<l;){const n=i[o];if($(n))try{n.unsubscribe()}catch(a){e=!0,t=t||[],a instanceof z?t=t.concat(q(a.errors)):t.push(a)}}if(e)throw new z(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;(n=new t)._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function q(t){return t.reduce((t,e)=>t.concat(e instanceof z?e.errors:e),[])}const L="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class V extends U{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=F;break;case 1:if(!t){this.destination=F;break}if("object"==typeof t){t instanceof V?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new B(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new B(this,t,e,n)}}[L](){return this}static create(t,e,n){const s=new V(t,e,n);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class B extends V{constructor(t,e,n,s){let r;super(),this._parentSubscriber=t;let i=this;j(e)?r=e:e&&(r=e.next,n=e.error,s=e.complete,e!==F&&(j((i=Object.create(e)).unsubscribe)&&this.add(i.unsubscribe.bind(i)),i.unsubscribe=this.unsubscribe.bind(this))),this._context=i,this._next=r,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;A.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=A;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):R(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;R(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);A.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),A.useDeprecatedSynchronousErrorHandling)throw n;R(n)}}__tryOrSetError(t,e,n){if(!A.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(s){return A.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(R(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}class J extends V{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const K="function"==typeof Symbol&&Symbol.observable||"@@observable";function X(){}let Y=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,r=function(t,e,n){if(t){if(t instanceof V)return t;if(t[L])return t[L]()}return t||e||n?new V(t,e,n):new V(F)}(t,e,n);if(r.add(s?s.call(r,this.source):this.source||A.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),A.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){A.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:s}=t;if(e||s)return!1;t=n&&n instanceof V?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=W(e))((e,n)=>{let s;s=this.subscribe(e=>{try{t(e)}catch(r){n(r),s&&s.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[K](){return this}pipe(...t){return 0===t.length?this:((e=t)?1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)}:X)(this);var e}toPromise(t){return new(t=W(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function W(t){if(t||(t=A.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const G=t=>e=>{for(let n=0,s=t.length;n<s&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},Q=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,R),e);function Z(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const tt=Z(),et=t=>e=>{const n=t[tt]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},nt=t=>e=>{const n=t[K]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},st=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function rt(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const it=t=>{if(t instanceof Y)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[K])return nt(t);if(st(t))return G(t);if(rt(t))return Q(t);if(t&&"function"==typeof t[tt])return et(t);{const e=$(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};class ot extends V{notifyNext(t,e,n,s,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function lt(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new at(t,e))}}class at{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new ct(t,this.project,this.thisArg))}}class ct extends V{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class ut{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new ht(t,this.project,this.concurrent))}}class ht extends ot{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const s=new J(this,void 0,void 0);this.destination.add(s),function(t,e,n,s,r=new J(t,n,s)){r.closed||it(e)(r)}(this,t,e,n,s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,s,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}class pt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new dt(t,this.predicate,this.thisArg))}}class dt extends V{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class gt{}class _t{}class mt{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),s=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,s),this.headers.has(s)?this.headers.get(s).push(r):this.headers.set(s,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const s=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(s,n),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof mt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new mt;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof mt?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...n),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;0===(t=t.filter(t=>-1===r.indexOf(t))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ft{encodeKey(t){return yt(t)}encodeValue(t){return yt(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function yt(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class bt{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ft,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const s=t.indexOf("="),[r,i]=-1==s?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,s)),e.decodeValue(t.slice(s+1))],o=n.get(r)||[];o.push(i),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new bt({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Ot(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function vt(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Pt(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Ct{constructor(t,e,n,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==n?n:null,r=s):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new mt),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new bt,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ot(this.body)||vt(this.body)||Pt(this.body)||"string"==typeof this.body?this.body:this.body instanceof bt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:Pt(this.body)?null:vt(this.body)?this.body.type||null:Ot(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,s=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,i=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,a=t.params||this.params;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),l)),t.setParams&&(a=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),a)),new Ct(e,n,r,{params:a,headers:l,reportProgress:o,responseType:s,withCredentials:i})}}const Mt=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class wt{constructor(t,e=200,n="OK"){this.headers=t.headers||new mt,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class xt extends wt{constructor(t={}){super(t),this.type=Mt.ResponseHeader}clone(t={}){return new xt({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class St extends wt{constructor(t={}){super(t),this.type=Mt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new St({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Et extends wt{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Tt(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class kt{constructor(t){this.handler=t}request(t,e,n={}){let s;if(t instanceof Ct)s=t;else{let r=void 0;r=n.headers instanceof mt?n.headers:new mt(n.headers);let i=void 0;n.params&&(i=n.params instanceof bt?n.params:new bt({fromObject:n.params})),s=new Ct(t,e,void 0!==n.body?n.body:null,{headers:r,params:i,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Object(p.of)(s).pipe(function t(e,n,s=Number.POSITIVE_INFINITY){return"function"==typeof n?r=>r.pipe(t((t,s)=>(function(t,e){return t instanceof Y?t:new Y(it(t))})(e(t,s)).pipe(lt((e,r)=>n(t,e,s,r))),s)):("number"==typeof n&&(s=n),t=>t.lift(new ut(e,s)))}(t=>this.handler.handle(t),i,1));var i;if(t instanceof Ct||"events"===n.observe)return r;const o=r.pipe((l=t=>t instanceof St,function(t){return t.lift(new pt(l,void 0))}));var l;switch(n.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return o.pipe(lt(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(lt(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(lt(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(lt(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new bt).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Tt(n,e))}post(t,e,n={}){return this.request("POST",t,Tt(n,e))}put(t,e,n={}){return this.request("PUT",t,Tt(n,e))}}class It{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const jt=new c.InjectionToken("HTTP_INTERCEPTORS");class Nt{intercept(t,e){return e.handle(t)}}const At=/^\)\]\}',?\n/;class Rt{}class Ft{constructor(){}build(){return new XMLHttpRequest}}class Dt{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new p.Observable(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const s=t.serializeBody();let r=null;const i=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,s=n.statusText||"OK",i=new mt(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new xt({headers:i,status:e,statusText:s,url:o})},o=()=>{let{headers:s,status:r,statusText:o,url:l}=i(),a=null;204!==r&&(a=void 0===n.response?n.responseText:n.response),0===r&&(r=a?200:0);let c=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof a){const t=a;a=a.replace(At,"");try{a=""!==a?JSON.parse(a):null}catch(u){a=t,c&&(c=!1,a={error:u,text:a})}}c?(e.next(new St({body:a,headers:s,status:r,statusText:o,url:l||void 0})),e.complete()):e.error(new Et({error:a,headers:s,status:r,statusText:o,url:l||void 0}))},l=t=>{const{url:s}=i(),r=new Et({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:s||void 0});e.error(r)};let a=!1;const c=s=>{a||(e.next(i()),a=!0);let r={type:Mt.DownloadProgress,loaded:s.loaded};s.lengthComputable&&(r.total=s.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},u=t=>{let n={type:Mt.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",l),t.reportProgress&&(n.addEventListener("progress",c),null!==s&&n.upload&&n.upload.addEventListener("progress",u)),n.send(s),e.next({type:Mt.Sent}),()=>{n.removeEventListener("error",l),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==s&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}const $t=new c.InjectionToken("XSRF_COOKIE_NAME"),Ht=new c.InjectionToken("XSRF_HEADER_NAME");class zt{}class Ut{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(u["ɵparseCookieValue"])(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class qt{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const s=this.tokenService.getToken();return null===s||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,s)})),e.handle(t)}}class Lt{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(jt,[]);this.chain=t.reduceRight((t,e)=>new It(t,e),this.backend)}return this.chain.handle(t)}}class Vt{static disable(){return{ngModule:Vt,providers:[{provide:qt,useClass:Nt}]}}static withOptions(t={}){return{ngModule:Vt,providers:[t.cookieName?{provide:$t,useValue:t.cookieName}:[],t.headerName?{provide:Ht,useValue:t.headerName}:[]]}}}class Bt{}class Jt{get electron(){return this._electron?this._electron:window&&window.require?(this._electron=window.require("electron"),this._electron):null}get isElectronApp(){return!!window.navigator.userAgent.match(/Electron/)}get isMacOS(){return this.isElectronApp&&"darwin"===process.platform}get isWindows(){return this.isElectronApp&&"win32"===process.platform}get isLinux(){return this.isElectronApp&&"linux"===process.platform}get isX86(){return this.isElectronApp&&"ia32"===process.arch}get isX64(){return this.isElectronApp&&"x64"===process.arch}get isArm(){return this.isElectronApp&&"arm"===process.arch}get desktopCapturer(){return this.electron?this.electron.desktopCapturer:null}get ipcRenderer(){return this.electron?this.electron.ipcRenderer:null}get remote(){return this.electron?this.electron.remote:null}get webFrame(){return this.electron?this.electron.webFrame:null}get clipboard(){return this.electron?this.electron.clipboard:null}get crashReporter(){return this.electron?this.electron.crashReporter:null}get process(){return this.remote?this.remote.process:null}get nativeImage(){return this.electron?this.electron.nativeImage:null}get screen(){return this.electron?this.remote.screen:null}get shell(){return this.electron?this.electron.shell:null}}class Kt extends Jt{constructor(){super()}}class Xt{}var Yt=n("3xDq"),Wt=c["ɵcmf"](a,[],(function(t){return c["ɵmod"]([c["ɵmpd"](512,c.ComponentFactoryResolver,c["ɵCodegenComponentFactoryResolver"],[[8,[C,S,I]],[3,c.ComponentFactoryResolver],c.NgModuleRef]),c["ɵmpd"](4608,u.NgLocalization,u.NgLocaleLocalization,[c.LOCALE_ID,[2,u["ɵangular_packages_common_common_a"]]]),c["ɵmpd"](4608,zt,Ut,[u.DOCUMENT,c.PLATFORM_ID,$t]),c["ɵmpd"](4608,qt,qt,[zt,Ht]),c["ɵmpd"](5120,jt,(function(t){return[t]}),[qt]),c["ɵmpd"](4608,Ft,Ft,[]),c["ɵmpd"](6144,Rt,null,[Ft]),c["ɵmpd"](4608,Dt,Dt,[Rt]),c["ɵmpd"](6144,_t,null,[Dt]),c["ɵmpd"](4608,gt,Lt,[_t,c.Injector]),c["ɵmpd"](4608,kt,kt,[gt]),c["ɵmpd"](4608,Jt,Kt,[]),c["ɵmpd"](4608,Yt.FormBuilder,Yt.FormBuilder,[]),c["ɵmpd"](4608,Yt["ɵangular_packages_forms_forms_o"],Yt["ɵangular_packages_forms_forms_o"],[]),c["ɵmpd"](1073742336,u.CommonModule,u.CommonModule,[]),c["ɵmpd"](1073742336,Vt,Vt,[]),c["ɵmpd"](1073742336,Bt,Bt,[]),c["ɵmpd"](1073742336,Xt,Xt,[]),c["ɵmpd"](1073742336,Yt["ɵangular_packages_forms_forms_d"],Yt["ɵangular_packages_forms_forms_d"],[]),c["ɵmpd"](1073742336,Yt.ReactiveFormsModule,Yt.ReactiveFormsModule,[]),c["ɵmpd"](1073742336,Yt.FormsModule,Yt.FormsModule,[]),c["ɵmpd"](1073742336,h.SharedModule,h.SharedModule,[]),c["ɵmpd"](1073742336,a,a,[]),c["ɵmpd"](256,$t,"XSRF-TOKEN",[]),c["ɵmpd"](256,Ht,"X-XSRF-TOKEN",[])])}));n.d(e,"InvoicesModule",(function(){return a})),n.d(e,"Goods",(function(){return o})),n.d(e,"Invoice",(function(){return l})),n.d(e,"InvoicesModuleNgFactory",(function(){return Wt})),e.default=Wt}})}));
//# sourceMappingURL=invoices.js.map